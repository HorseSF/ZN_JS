<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
<script>
    window.onload=function(){
        var oTab = document.getElementById('tab1');
        oTab.rows[0].style.background="blue";
        oTab.rows[0].style.color="white";
        var oldColor = "";

        //alert(oTab.getElementsByTagName('tbody')[0].getElementsByTagName('tr')[1].getElementsByTagName('td')[1].innerHTML);

        //alert(oTab.tBodies[0].rows[1].cells[1].innerHTML);
        for(var i=0;i<oTab.tBodies[0].rows.length;i++){
            oTab.tBodies[0].rows[i].onmouseover = function(){
                oldColor = this.style.background;
                this.style.background = "green";
            }

            oTab.tBodies[0].rows[i].onmouseout = function(){
                this.style.background = oldColor;
            }

            if(i%2){
                oTab.tBodies[0].rows[i].style.background = "";
            }else{
                oTab.tBodies[0].rows[i].style.background = "#ccc";
            }
        }

        function focusRow(){        
            for(var i=0;i<oTab.tBodies[0].rows.length;i++){
                oTab.tBodies[0].rows[i].onmouseover = function(){
                    oldColor = this.style.background;
                    this.style.background = "green";
                }

                oTab.tBodies[0].rows[i].onmouseout = function(){
                    this.style.background = oldColor;
                }

                if(i%2){
                    oTab.tBodies[0].rows[i].style.background = "";
                }else{
                    oTab.tBodies[0].rows[i].style.background = "#ccc";
                }
            }
        }

        var oBtn1 = document.getElementById('Btn1');
        var oId = oTab.tBodies[0].rows.length + 1
        var oName = document.getElementById('name');
        var oAge = document.getElementById('age');

        oBtn1.onclick = function(){
            var oTr = document.createElement('tr');

            var oTd = document.createElement('td');
            oTd.innerHTML = oId++;
            oTr.appendChild(oTd);

            var oTd = document.createElement('td');
            oTd.innerHTML = oName.value;
            oTr.appendChild(oTd);

            var oTd = document.createElement('td');
            oTd.innerHTML = oAge.value;
            oTr.appendChild(oTd);

            var oTd = document.createElement('td');
            oTd.innerHTML = '<a href="Javascript:;">删除</a>';
            oTr.appendChild(oTd);

            oTd.getElementsByTagName('a')[0].onclick=function(){
                oTab.tBodies[0].removeChild(this.parentNode.parentNode);
            }

            oTab.tBodies[0].appendChild(oTr);
            focusRow();
        }

        var oBtn2 = document.getElementById('Btn2');
        oBtn2.onclick = function(){
            var sName = oName.value.toLowerCase();
            //var sAge = oAge.value.toLowerCase();
            var sArr = sName.split(' ');

            for(var h=0;h<oTab.tBodies[0].rows.length;h++){
                oTab.tBodies[0].rows[h].style.background='';
            }

            for(var i=0;i<sArr.length;i++){
                for(var j=0;j<oTab.tBodies[0].rows.length;j++){
                    var sTabName = oTab.tBodies[0].rows[j].cells[1].innerHTML.toLowerCase();
                    //var sTabAge = oTab.tBodies[0].rows[j].cells[2].innerHTML.toLowerCase();

                    if(sTabName.search(sArr[i]) != -1){
                        oTab.tBodies[0].rows[j].style.background='yellow';
                    }
                    /*
                    else if(sTabAge.search(sAge) != -1){
                        oTab.tBodies[0].rows[j].style.background='yellow';
                    }
                    */
                }            
            }
        }

        var oBtn3 = document.getElementById('Btn3');
        oBtn3.onclick = function(){
            var sName = oName.value.toLowerCase();
            var sArr = sName.split(' ');

            for(var h=0;h<oTab.tBodies[0].rows.length;h++){
                oTab.tBodies[0].rows[h].style.display='none';
            }

            for(var i=0;i<sArr.length;i++){
                for(var j=0;j<oTab.tBodies[0].rows.length;j++){
                    var sTabName = oTab.tBodies[0].rows[j].cells[1].innerHTML.toLowerCase();
                    if(sTabName.search(sArr[i]) != -1){
                        oTab.tBodies[0].rows[j].style.display='block';
                    }
                }            
            }
        }
    }
</script>
</head>
<body>
姓名:<input type="text" name="" id="name">
年龄:<input type="text" name="" id="age">
<input type="button" value="添加" id="Btn1">
<input type="button" value="搜索1" id="Btn2">
<input type="button" value="搜索2" id="Btn3">
<table id="tab1" border="1" width="500">
    <thead>
        <td>ID</td>
        <td>姓名</td>
        <td>年龄</td>
        <td>操作</td>
    </thead>
    <tbody>
        <tr>
            <td>1</td>
            <td>张三</td>
            <td>27</td>
            <td></td>
        </tr>
        <tr>
            <td>2</td>
            <td>李四</td>
            <td>42</td>
            <td></td>
        </tr>
        <tr>
            <td>3</td>
            <td>王五</td>
            <td>15</td>
            <td></td>
        </tr>
        <tr>
            <td>4</td>
            <td>赵六</td>
            <td>33</td>
            <td></td>
        </tr>
    </tbody>
</table>
</body>
</html>